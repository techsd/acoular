<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Three sources – Generate synthetic microphone array data. &#8212; Acoular 24.10 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=f63d8bfa" />
    <link rel="stylesheet" type="text/css" href="../../_static/haikuac.css?v=41595bc8" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css?v=4ae1632d" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="../../_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx_gallery.css?v=f3715e10" />
    <script src="../../_static/documentation_options.js?v=62826975"></script>
    <script src="../../_static/doctools.js?v=9bcbadda"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../../_static/acoular_logo.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Basic Beamforming – Generate a map of three sources." href="example_basic_beamforming.html" />
    <link rel="prev" title="Introductory examples" href="index.html" /> 
  </head><body>
      <div class="header"><img class="rightlogo" src="../../_static/Acoular_logo.png" alt="Logo"/><h1 class="heading"><a href="../../index.html">
          <span>Acoular 24.10 documentation</span></a></h1>
        <h2 class="heading"><span>Three sources – Generate synthetic microphone array data.</span></h2>
      </div>
      <div class="topnav">
      
        <p>
        «&#160;&#160;<a href="index.html">Introductory examples</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Introductory examples</a>
        &#160;&#160;::&#160;&#160;
        <a href="example_basic_beamforming.html">Basic Beamforming – Generate a map of three sources.</a>&#160;&#160;»
        </p>

      </div>
      <div class="content">
        
        
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p><a class="reference internal" href="#sphx-glr-download-auto-examples-introductory-examples-example-three-sources-py"><span class="std std-ref">Go to the end</span></a>
to download the full example code.</p>
</div>
<section class="sphx-glr-example-title" id="three-sources-generate-synthetic-microphone-array-data">
<span id="sphx-glr-auto-examples-introductory-examples-example-three-sources-py"></span><h1>Three sources – Generate synthetic microphone array data.<a class="headerlink" href="#three-sources-generate-synthetic-microphone-array-data" title="Link to this heading">¶</a></h1>
<p>Generates a test data set for three sources.</p>
<p>The simulation generates the sound pressure at 64 microphones that are
arrangend in the ‘array64’ geometry which is part of the package. The sound
pressure signals are sampled at 51200 Hz for a duration of 1 second.
The simulated signals are stored in a HDF5 file named ‘three_sources.h5’.</p>
<p>Source location (relative to array center) and levels:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Source</p></th>
<th class="head"><p>Location</p></th>
<th class="head"><p>Level</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><p>(-0.1,-0.1,0.3)</p></td>
<td><p>1 Pa</p></td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><p>(0.15,0,0.3)</p></td>
<td><p>0.7 Pa</p></td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><p>(0,0.1,0.3)</p></td>
<td><p>0.5 Pa</p></td>
</tr>
</tbody>
</table>
<div class="highlight-Python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="kn">import</span> <span class="nn">acoular</span> <span class="k">as</span> <span class="nn">ac</span>

<span class="n">sfreq</span> <span class="o">=</span> <span class="mi">51200</span>
<span class="n">duration</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">nsamples</span> <span class="o">=</span> <span class="n">duration</span> <span class="o">*</span> <span class="n">sfreq</span>
<span class="n">micgeofile</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">ac</span><span class="o">.</span><span class="vm">__file__</span><span class="p">)</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="s1">&#39;xml&#39;</span> <span class="o">/</span> <span class="s1">&#39;array_64.xml&#39;</span>
<span class="n">h5savefile</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s1">&#39;three_sources.h5&#39;</span><span class="p">)</span>

<span class="n">m</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">MicGeom</span><span class="p">(</span><span class="n">from_file</span><span class="o">=</span><span class="n">micgeofile</span><span class="p">)</span>
<span class="n">n1</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">WNoiseGenerator</span><span class="p">(</span><span class="n">sample_freq</span><span class="o">=</span><span class="n">sfreq</span><span class="p">,</span> <span class="n">numsamples</span><span class="o">=</span><span class="n">nsamples</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">n2</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">WNoiseGenerator</span><span class="p">(</span><span class="n">sample_freq</span><span class="o">=</span><span class="n">sfreq</span><span class="p">,</span> <span class="n">numsamples</span><span class="o">=</span><span class="n">nsamples</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">rms</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
<span class="n">n3</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">WNoiseGenerator</span><span class="p">(</span><span class="n">sample_freq</span><span class="o">=</span><span class="n">sfreq</span><span class="p">,</span> <span class="n">numsamples</span><span class="o">=</span><span class="n">nsamples</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">rms</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span>
<span class="n">p1</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">PointSource</span><span class="p">(</span><span class="n">signal</span><span class="o">=</span><span class="n">n1</span><span class="p">,</span> <span class="n">mics</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">))</span>
<span class="n">p2</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">PointSource</span><span class="p">(</span><span class="n">signal</span><span class="o">=</span><span class="n">n2</span><span class="p">,</span> <span class="n">mics</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mf">0.15</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">))</span>
<span class="n">p3</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">PointSource</span><span class="p">(</span><span class="n">signal</span><span class="o">=</span><span class="n">n3</span><span class="p">,</span> <span class="n">mics</span><span class="o">=</span><span class="n">m</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">))</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">Mixer</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">p1</span><span class="p">,</span> <span class="n">sources</span><span class="o">=</span><span class="p">[</span><span class="n">p2</span><span class="p">,</span> <span class="n">p3</span><span class="p">])</span>
<span class="n">wh5</span> <span class="o">=</span> <span class="n">ac</span><span class="o">.</span><span class="n">WriteH5</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">p</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">h5savefile</span><span class="p">)</span>
<span class="n">wh5</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="example_basic_beamforming.html"><span class="doc">Basic Beamforming – Generate a map of three sources.</span></a> for an example on how to load and analyze the generated data with Beamforming.</p>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> (0 minutes 0.432 seconds)</p>
<div class="sphx-glr-footer sphx-glr-footer-example docutils container" id="sphx-glr-download-auto-examples-introductory-examples-example-three-sources-py">
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/3010af31b5cc8ff4d05fba2037594c48/example_three_sources.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">example_three_sources.ipynb</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/a876ab32833b587b31e3e284c5c06380/example_three_sources.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">example_three_sources.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-zip docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/b0ff5bd8566dc6648ebe81b1d0b7f373/example_three_sources.zip"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">zipped:</span> <span class="pre">example_three_sources.zip</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


      </div>
      <div class="bottomnav">
      
        <p>
        «&#160;&#160;<a href="index.html">Introductory examples</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Introductory examples</a>
        &#160;&#160;::&#160;&#160;
        <a href="example_basic_beamforming.html">Basic Beamforming – Generate a map of three sources.</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2024, Acoular Development Team.
      Last updated on Oct 23, 2024.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.1.3.
    </div>
  </body>
</html>